{"version":3,"sources":["layer-configs.ts","map-layer.ts","map-manager.ts"],"sourcesContent":["import { MapLayerConfig } from './map-layer';\n\nexport const feminicidiosFiscaliaConfig: MapLayerConfig = {\n  sourceId: 'feminicidios-fiscalia-source',\n  layerId: 'feminicidios-fiscalia-layer',\n  sourceConfig: {\n    type: 'vector',\n    url: 'mapbox://stock44.6cae6ijm',\n  },\n  layerConfig: {\n    type: 'circle',\n    'source-layer': 'empresas-6uxgdw',\n    maxzoom: 20,\n    minzoom: 7,\n    paint: {\n      'circle-radius': [\n        'interpolate',\n        ['linear'],\n        ['get', 'NUMPOINTS'],\n        1,\n        5,\n        15,\n        20,\n      ],\n      'circle-color': '#ec5151',\n      'circle-blur': 1,\n    },\n  },\n};\n\nexport const feminicidiosPeriodicosConfig: MapLayerConfig = {\n  sourceId: 'feminicidios-periodicos-source',\n  layerId: 'feminicidios-periodicos-layer',\n  sourceConfig: {\n    type: 'vector',\n    url: 'mapbox://stock44.19vijq6m',\n  },\n  layerConfig: {\n    type: 'circle',\n    'source-layer': '.',\n    maxzoom: 20,\n    minzoom: 7,\n    paint: {\n      'circle-radius': [\n        'interpolate',\n        ['linear'],\n        ['get', 'NUMPOINTS'],\n        1,\n        5,\n        15,\n        20,\n      ],\n      'circle-color': '#ec5151',\n      'circle-blur': 1,\n    },\n  },\n};\n\nexport const areaSinCubrimientoConfig: MapLayerConfig = {\n  sourceId: 'area-sin-cubrimiento-source',\n  layerId: 'area-sin-cubrimiento-layer',\n  sourceConfig: {\n    type: 'vector',\n    url: 'mapbox://your.tileset.id', // Reemplaza con tu URL correcto\n  },\n  layerConfig: {\n    type: 'fill',\n    'source-layer': 'your-source-layer', // Reemplaza con tu source-layer correcto\n    paint: {\n      'fill-color': '#ff0000',\n      'fill-opacity': 0.5,\n    },\n  },\n};\n\nexport const rezagoSocialConfig: MapLayerConfig = {\n  sourceId: 'rezago-social-source',\n  layerId: 'rezago-social-layer',\n  sourceConfig: {\n    type: 'vector',\n    url: 'mapbox://your.tileset.id', // Reemplaza con tu URL correcto\n  },\n  layerConfig: {\n    type: 'fill',\n    'source-layer': 'your-source-layer', // Reemplaza con tu source-layer correcto\n    paint: {\n      'fill-color': [\n        'interpolate',\n        ['linear'],\n        ['get', 'rezago'],\n        0, '#ffffff',\n        1, '#ff0000'\n      ],\n      'fill-opacity': 0.7,\n    },\n  },\n};\n\nexport const sitiosDeApoyoConfig: MapLayerConfig = {\n  sourceId: 'sitios-de-apoyo-source',\n  layerId: 'sitios-de-apoyo-layer',\n  sourceConfig: {\n    type: 'vector',\n    url: 'mapbox://your.tileset.id', // Reemplaza con tu URL correcto\n  },\n  layerConfig: {\n    type: 'circle',\n    'source-layer': 'your-source-layer', // Reemplaza con tu source-layer correcto\n    paint: {\n      'circle-radius': 6,\n      'circle-color': '#4CAF50',\n      'circle-opacity': 0.8,\n    },\n  },\n};\n\nexport const modeloConfig: MapLayerConfig = {\n  sourceId: 'modelo-source',\n  layerId: 'modelo-layer',\n  sourceConfig: {\n    type: 'vector',\n    url: 'mapbox://your.tileset.id', // Reemplaza con tu URL correcto\n  },\n  layerConfig: {\n    type: 'heatmap',\n    'source-layer': 'your-source-layer', // Reemplaza con tu source-layer correcto\n    paint: {\n      'heatmap-weight': ['get', 'probability'],\n      'heatmap-intensity': 1,\n      'heatmap-color': [\n        'interpolate',\n        ['linear'],\n        ['heatmap-density'],\n        0, 'rgba(0, 0, 255, 0)',\n        0.5, 'rgba(0, 255, 0, 1)',\n        1, 'rgba(255, 0, 0, 1)'\n      ],\n      'heatmap-radius': 30,\n    },\n  },\n};","import { Layer, Map, AnySourceData, AnyLayer } from 'mapbox-gl';\r\n\r\nexport interface MapLayerConfig {\r\n  sourceId: string;\r\n  layerId: string;\r\n  sourceConfig: AnySourceData;\r\n  layerConfig: Omit<Layer, 'id' | 'source'>;\r\n}\r\n\r\nexport class MapLayer {\r\n  private readonly sourceId: string;\r\n  private readonly layerId: string;\r\n  private readonly sourceConfig: AnySourceData;\r\n  private readonly layerConfig: Layer;\r\n\r\n  constructor(config: MapLayerConfig) {\r\n    this.sourceId = config.sourceId;\r\n    this.layerId = config.layerId;\r\n    this.sourceConfig = config.sourceConfig;\r\n    this.layerConfig = {\r\n      ...config.layerConfig,\r\n      id: config.layerId,\r\n      source: config.sourceId,\r\n    };\r\n  }\r\n\r\n  addSource(map: Map): void {\r\n    if (!map.getSource(this.sourceId)) {\r\n      map.addSource(this.sourceId, this.sourceConfig);\r\n    }\r\n  }\r\n\r\n  addLayer(map: Map): void {\r\n    if (!map.getLayer(this.layerId)) {\r\n      map.addLayer(this.layerConfig as unknown as AnyLayer);\r\n    }\r\n  }\r\n\r\n  removeLayer(map: Map): void {\r\n    if (map.getLayer(this.layerId)) {\r\n      map.removeLayer(this.layerId);\r\n    }\r\n  }\r\n\r\n  removeSource(map: Map): void {\r\n    if (map.getSource(this.sourceId)) {\r\n      map.removeSource(this.sourceId);\r\n    }\r\n  }\r\n}","import { Map } from 'mapbox-gl';\nimport { MapLayer, MapLayerConfig } from './map-layer';\n\nexport class MapManager {\n  private layers: Record<string, MapLayer>;\n  private map: Map | null;\n\n  constructor() {\n    this.layers = {};\n    this.map = null;\n  }\n\n  setMap(map: Map) {\n    this.map = map;\n  }\n\n  registerLayer(config: MapLayerConfig) {\n    const layer = new MapLayer(config);\n    this.layers[config.layerId] = layer;\n    return layer;\n  }\n\n  addSource(layerId: string) {\n    if (!this.map) return;\n    const layer = this.layers[layerId];\n    if (layer) {\n      layer.addSource(this.map);\n    }\n  }\n\n  addLayer(layerId: string) {\n    if (!this.map) return;\n    const layer = this.layers[layerId];\n    if (layer) {\n      layer.addLayer(this.map);\n    }\n  }\n\n  removeLayer(layerId: string) {\n    if (!this.map) return;\n    const layer = this.layers[layerId];\n    if (layer) {\n      layer.removeLayer(this.map);\n    }\n  }\n\n  removeSource(layerId: string) {\n    if (!this.map) return;\n    const layer = this.layers[layerId];\n    if (layer) {\n      layer.removeSource(this.map);\n    }\n  }\n}"],"mappings":"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","names":[]}